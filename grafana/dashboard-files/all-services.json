{
  "id": null,
  "title": "All Services Overview",
  "timezone": "browser",
  "schemaVersion": 38,
  "version": 1,
  "panels": [
    {
      "type": "graph",
      "title": "HTTP Requests per Service",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "sum(rate(http_requests_total[1m])) by (service)",
          "legendFormat": "{{service}}"
        }
      ],
      "gridPos": {"x":0,"y":0,"w":12,"h":8}
    },
    {
      "type": "graph",
      "title": "HTTP Errors per Service",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "sum(rate(http_requests_total{status=~\"5..\"}[1m])) by (service)",
          "legendFormat": "{{service}}"
        }
      ],
      "gridPos": {"x":12,"y":0,"w":12,"h":8}
    },
    {
      "type": "graph",
      "title": "Request Duration (ms)",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "histogram_quantile(0.95, sum(rate(http_request_duration_seconds_bucket[1m])) by (le, service))",
          "legendFormat": "{{service}}"
        }
      ],
      "gridPos": {"x":0,"y":8,"w":12,"h":8}
    },
    {
      "type": "graph",
      "title": "CPU Usage (%)",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "100 - (avg by (instance) (irate(node_cpu_seconds_total{mode=\"idle\"}[5m])) * 100)",
          "legendFormat": "{{instance}}"
        }
      ],
      "gridPos": {"x":12,"y":8,"w":12,"h":8}
    },
    {
      "type": "graph",
      "title": "Memory Usage (%)",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "100 * (1 - ((node_memory_MemAvailable_bytes) / (node_memory_MemTotal_bytes)))",
          "legendFormat": "{{instance}}"
        }
      ],
      "gridPos": {"x":0,"y":16,"w":12,"h":8}
    },
    {
      "type": "graph",
      "title": "Disk Usage (%)",
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "100 - ((node_filesystem_free_bytes{fstype!=\"tmpfs\"} / node_filesystem_size_bytes{fstype!=\"tmpfs\"}) * 100)",
          "legendFormat": "{{instance}}"
        }
      ],
      "gridPos": {"x":12,"y":16,"w":12,"h":8}
    }
  ]
}
