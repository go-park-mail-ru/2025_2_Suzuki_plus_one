groups:
  - name: traffic-spikes
    rules:
      - alert: HighRPSPerService
        expr: |
          sum by (service) (
            rate(http_requests_total[1m])
          ) >= 10
        for: 1m
        labels:
          severity: warning
        annotations:
          summary: "High RPS (>=10) for {{ $labels.service }}"
          description: "Service {{ $labels.service }} is handling {{ printf \"%.1f\" $value }} requests per second (>= 10 rps)."
