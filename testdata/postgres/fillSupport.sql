TRUNCATE TABLE USER_APPEAL_RESPONSE, USER_APPEAL_MESSAGE, USER_APPEAL CASCADE;

INSERT INTO USER_APPEAL (user_appeal_id, user_id, tag, name, status, created_at, updated_at) VALUES
--Opened
(1, 1001, 'bug', 'Не воспроизводится видео на Samsung TV', 'open', '2024-01-15 19:30:00+03', '2024-01-15 19:30:00+03'),
(2, 1002, 'feature', 'Добавить функцию скачивания серий для iOS', 'open', '2024-01-14 21:15:00+03', '2024-01-14 21:15:00+03'),
(3, 1003, 'other', 'Проблема с оплатой подписки', 'open', '2024-01-13 20:45:00+03', '2024-01-13 20:45:00+03'),

(4, 1004, 'bug', 'Субтитры исчезают через 10 минут просмотра', 'in_progress', '2024-01-12 18:20:00+03', '2024-01-14 16:10:00+03'),
(5, 1005, 'feature', 'Добавить профили для детей с PIN-кодом', 'in_progress', '2024-01-11 22:30:00+03', '2024-01-15 14:25:00+03'),

(6, 1006, 'bug', 'Качество видео автоматически падает до 480p', 'resolved', '2024-01-10 17:40:00+03', '2024-01-12 15:30:00+03'),
(7, 1007, 'feature', 'Возможность скрыть просмотренный контент', 'resolved', '2024-01-09 19:15:00+03', '2024-01-11 11:20:00+03'),
(8, 1008, 'other', 'Не приходит код подтверждения при входе', 'resolved', '2024-01-08 16:50:00+03', '2024-01-10 18:40:00+03'),

(9, 1009, 'bug', 'Приложение вылетает на Android при перемотке', 'open', '2024-01-07 21:25:00+03', '2024-01-07 21:25:00+03'),
(10, 1010, 'feature', 'Добавить турецкие субтитры для всех сериалов', 'in_progress', '2024-01-06 20:10:00+03', '2024-01-15 12:15:00+03'),
(11, 1011, 'bug', 'Звук пропадает в 5.1 канальном режиме', 'resolved', '2024-01-05 18:30:00+03', '2024-01-08 13:45:00+03'),
(12, 1012, 'feature', 'Кнопка "Продолжить просмотр" на главном экране', 'open', '2024-01-04 19:20:00+03', '2024-01-04 19:20:00+03'),
(13, 1013, 'other', 'Не могу восстановить пароль от аккаунта', 'in_progress', '2024-01-03 17:15:00+03', '2024-01-14 19:30:00+03'),
(14, 1014, 'bug', 'Серии скачиваются с ошибкой - невозможно посмотреть', 'resolved', '2024-01-02 22:40:00+03', '2024-01-05 16:20:00+03'),
(15, 1015, 'feature', 'Увеличить лимит устройств в стандартной подписке', 'open', '2024-01-01 20:00:00+03', '2024-01-01 20:00:00+03');

-- Заполнение таблицы USER_APPEAL_MESSAGE
INSERT INTO USER_APPEAL_MESSAGE (user_appeal_message_id, user_appeal_id, message_content, created_at, updated_at) VALUES
(1, 1, 'При попытке воспроизвести любой контент на телевизоре Samsung UE65RU7470UXCE получаю черный экран. Звук есть, но видео не показывает. На других устройствах все работает нормально.', '2024-01-15 19:30:00+03', '2024-01-15 19:30:00+03'),
(2, 1, 'Проблема началась после обновления прошивки телевизора до версии T-KTM2DEUC-3502. До этого все работало нормально.', '2024-01-15 19:35:00+03', '2024-01-15 19:35:00+03'),
(3, 2, 'На устройствах Apple iPhone и iPad нет функции скачивания контента для офлайн-просмотра. На Android эта функция есть. Когда планируется добавить для iOS?', '2024-01-14 21:15:00+03', '2024-01-14 21:15:00+03'),
(4, 3, 'При попытке оплатить подписку картой Visa получаю ошибку "Платеж не прошел". Карта активна, средства есть. Пробовал разные карты - результат тот же.', '2024-01-13 20:45:00+03', '2024-01-13 20:45:00+03'),
(5, 4, 'При просмотре любого сериала субтитры работают только первые 10-15 минут, потом пропадают. Перезагрузка приложения временно помогает.', '2024-01-12 18:20:00+03', '2024-01-12 18:20:00+03'),
(6, 4, 'Проблема наблюдается только в браузере Chrome на Windows. В других браузерах субтитры работают нормально.', '2024-01-13 09:15:00+03', '2024-01-13 09:15:00+03'),
(7, 5, 'Хочу создать отдельный профиль для ребенка 6 лет, но нет возможности установить PIN-код для ограничения доступа к взрослому контенту.', '2024-01-11 22:30:00+03', '2024-01-11 22:30:00+03'),
(8, 6, 'Даже при хорошей скорости интернета (100 Мбит/с) качество видео автоматически переключается на 480p. Принудительная установка качества не помогает.', '2024-01-10 17:40:00+03', '2024-01-10 17:40:00+03'),
(9, 7, 'После просмотра сериала он остается в рекомендациях. Хотелось бы иметь возможность скрыть просмотренный контент из главной ленты.', '2024-01-09 19:15:00+03', '2024-01-09 19:15:00+03'),
(10, 8, 'При попытке войти в аккаунт с нового устройства запрашивает код подтверждения, но SMS на телефон не приходит. Проверил спам - пусто.', '2024-01-08 16:50:00+03', '2024-01-08 16:50:00+03'),
(11, 9, 'Приложение на Samsung Galaxy S21 вылетает когда пытаюсь перемотать серию более чем на 10 минут вперед. В логе ошибка: OutOfMemory Exception.', '2024-01-07 21:25:00+03', '2024-01-07 21:25:00+03'),
(12, 10, 'Много турецких сериалов, но нет турецких субтитров. Для не слышащих пользователей это критично. Можно добавить поддержку?', '2024-01-06 20:10:00+03', '2024-01-06 20:10:00+03'),
(13, 11, 'При воспроизведении фильмов с 5.1 звуком на домашнем кинотеатре Sony HT-ST5000 звук периодически пропадает на 2-3 секунды.', '2024-01-05 18:30:00+03', '2024-01-05 18:30:00+03'),
(14, 12, 'Часто забываю на чем остановился в просмотре. Хотелось бы видеть большую кнопку "Продолжить просмотр" вверху главного экрана.', '2024-01-04 19:20:00+03', '2024-01-04 19:20:00+03'),
(15, 13, 'Нажимаю "Забыли пароль?", ввожу email, но письмо для восстановления не приходит. Проверял папку спам - тоже нет.', '2024-01-03 17:15:00+03', '2024-01-03 17:15:00+03');

-- Заполнение таблицы USER_APPEAL_RESPONSE
INSERT INTO USER_APPEAL_RESPONSE (user_appeal_response_id, user_appeal_id, response_message, created_at, updated_at) VALUES
(1, 6, 'Проблема была связана с настройками автоматического выбора качества. Мы обновили алгоритм определения скорости интернета. Теперь качество должно оставаться стабильным.', '2024-01-11 10:30:00+03', '2024-01-11 10:30:00+03'),
(2, 6, 'Проверьте, пожалуйста, работает ли сейчас качество видео на максимальных настройках. Если проблема останется - сообщите нам.', '2024-01-11 15:20:00+03', '2024-01-11 15:20:00+03'),
(3, 7, 'Функция скрытия просмотренного контента добавлена в последнем обновлении приложения. Найдите ее в настройках профиля во вкладке "Конфиденциальность".', '2024-01-10 12:45:00+03', '2024-01-10 12:45:00+03'),
(4, 8, 'Были временные проблемы с отправкой SMS в вашем регионе. Сейчас сервис восстановлен. Попробуйте запросить код подтверждения еще раз.', '2024-01-09 14:15:00+03', '2024-01-09 14:15:00+03'),
(5, 4, 'Мы нашли баг в обработке субтитров для браузера Chrome. Работаем над исправлением. Временно рекомендуем использовать браузер Firefox.', '2024-01-13 12:00:00+03', '2024-01-13 12:00:00+03'),
(6, 4, 'Выпустили исправление для проблемы с субтитрами. Обновите страницу и проверьте, пожалуйста, работу субтитров.', '2024-01-14 16:10:00+03', '2024-01-14 16:10:00+03'),
(7, 5, 'Функция PIN-кода для детских профилей находится в разработке. Планируем выпустить в следующем обновлении через 1-2 недели.', '2024-01-12 16:10:00+03', '2024-01-12 16:10:00+03'),
(8, 5, 'Добавили настройки родительского контроля с возможностью установки PIN-кода. Обновите приложение до версии 4.2.1.', '2024-01-15 14:25:00+03', '2024-01-15 14:25:00+03'),
(9, 11, 'Исправили проблему с воспроизведением 5.1 звука. Обновили аудиокодеки для лучшей совместимости с оборудованием Sony.', '2024-01-07 17:40:00+03', '2024-01-07 17:40:00+03'),
(10, 14, 'Проблема со скачиванием серий была связана с кэшированием данных. Исправили алгоритм загрузки - теперь контент скачивается корректно.', '2024-01-04 15:30:00+03', '2024-01-04 15:30:00+03'),
(11, 13, 'Проверили отправку писем для вашего email - все работает корректно. Возможно, письма попадают в спам. Добавьте наш адрес support@netflix.com в белый список.', '2024-01-04 13:00:00+03', '2024-01-04 13:00:00+03'),
(12, 1, 'Проблема известна для некоторых моделей Samsung TV после обновления прошивки. Работаем над совместимостью с новой версией Tizen OS.', '2024-01-15 20:00:00+03', '2024-01-15 20:00:00+03'),
(13, 2, 'Функция скачивания для iOS находится в стадии тестирования. Ожидайте обновление приложения в App Store в течение месяца.', '2024-01-14 22:30:00+03', '2024-01-14 22:30:00+03'),
(14, 3, 'Возникли временные проблемы с обработкой платежей через Visa. Рекомендуем использовать Mastercard или PayPal. Платежная система Visa уже восстановлена.', '2024-01-13 21:15:00+03', '2024-01-13 21:15:00+03'),
(15, 10, 'Добавили турецкие субтитры для 50 самых популярных сериалов. В течение недели добавим для всего каталога.', '2024-01-07 11:20:00+03', '2024-01-07 11:20:00+03');

-- Обновление последовательностей (если используете SERIAL или автоматические инкременты)
-- SELECT setval('user_appeal_user_appeal_id_seq', (SELECT MAX(user_appeal_id) FROM USER_APPEAL));
-- SELECT setval('user_appeal_message_user_appeal_message_id_seq', (SELECT MAX(user_appeal_message_id) FROM USER_APPEAL_MESSAGE));
-- SELECT setval('user_appeal_response_user_appeal_response_id_seq', (SELECT MAX(user_appeal_response_id) FROM USER_APPEAL_RESPONSE));