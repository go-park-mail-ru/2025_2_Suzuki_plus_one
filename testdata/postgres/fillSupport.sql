TRUNCATE TABLE USER_APPEAL_RESPONSE, USER_APPEAL_MESSAGE, USER_APPEAL CASCADE;

-- Заполнение таблицы USER
INSERT INTO USER (user_id, username) VALUES
(1, 'user_one'),
(2, 'user_two'),
(3, 'user_three'),
(4, 'user_one'),
(5, 'user_two'),
(6, 'user_three'),
(7, 'user_four'),
(8, 'user_five'),
(9, 'user_six'),
(10, 'user_seven'),
(11, 'user_eight'),
(12, 'user_nine'),
(13, 'user_ten'),
(14, 'user_eleven'),
(15, 'user_twelve');
-- Заполнение таблицы USER_APPEAL
INSERT INTO USER_APPEAL (user_appeal_id, user_id, tag, name, status, created_at, updated_at) VALUES
--Opened
(1, 1, 'bug', 'Не воспроизводится видео на Samsung TV', 'open', '2024-01-15 19:30:00+03', '2024-01-15 19:30:00+03'),
(2, 2, 'feature', 'Добавить функцию скачивания серий для iOS', 'open', '2024-01-14 21:15:00+03', '2024-01-14 21:15:00+03'),
(3, 3, 'other', 'Проблема с оплатой подписки', 'open', '2024-01-13 20:45:00+03', '2024-01-13 20:45:00+03'),

(4, 4, 'bug', 'Субтитры исчезают через 10 минут просмотра', 'in_progress', '2024-01-12 18:20:00+03', '2024-01-14 16:10:00+03'),
(5, 5, 'feature', 'Добавить профили для детей с PIN-кодом', 'in_progress', '2024-01-11 22:30:00+03', '2024-01-15 14:25:00+03'),

(6, 6, 'bug', 'Качество видео автоматически падает до 480p', 'resolved', '2024-01-10 17:40:00+03', '2024-01-12 15:30:00+03'),
(7, 7, 'feature', 'Возможность скрыть просмотренный контент', 'resolved', '2024-01-09 19:15:00+03', '2024-01-11 11:20:00+03'),
(8, 8, 'other', 'Не приходит код подтверждения при входе', 'resolved', '2024-01-08 16:50:00+03', '2024-01-10 18:40:00+03'),
(9, 9, 'bug', 'Приложение вылетает на Android при перемотке', 'open', '2024-01-07 21:25:00+03', '2024-01-07 21:25:00+03'),
(10, 10, 'feature', 'Добавить турецкие субтитры для всех сериалов', 'in_progress', '2024-01-06 20:10:00+03', '2024-01-15 12:15:00+03'),
(11, 11, 'bug', 'Звук пропадает в 5.1 канальном режиме', 'resolved', '2024-01-05 18:30:00+03', '2024-01-08 13:45:00+03'),
(12, 12, 'feature', 'Кнопка "Продолжить просмотр" на главном экране', 'open', '2024-01-04 19:20:00+03', '2024-01-04 19:20:00+03'),
(13, 13, 'other', 'Не могу восстановить пароль от аккаунта', 'in_progress', '2024-01-03 17:15:00+03', '2024-01-14 19:30:00+03'),
(14, 14, 'bug', 'Серии скачиваются с ошибкой - невозможно посмотреть', 'resolved', '2024-01-02 22:40:00+03', '2024-01-05 16:20:00+03'),
(15, 15, 'feature', 'Увеличить лимит устройств в стандартной подписке', 'open', '2024-01-01 20:00:00+03', '2024-01-01 20:00:00+03');

-- Заполнение таблицы USER_APPEAL_MESSAGE
INSERT INTO USER_APPEAL_MESSAGE (user_appeal_message_id, user_appeal_id, is_response, message_content, created_at, updated_at) VALUES
(1, 1, FALSE, 'При попытке воспроизвести любой контент на телевизоре Samsung UE65RU7470UXCE получаю черный экран. Звук есть, но видео не показывает. На других устройствах все работает нормально.', '2024-01-15 19:30:00+03', '2024-01-15 19:30:00+03'),
(2, 1, FALSE, 'Проблема началась после обновления прошивки телевизора до версии T-KTM2DEUC-3502. До этого все работало нормально.', '2024-01-15 19:35:00+03', '2024-01-15 19:35:00+03'),
(3, 2, FALSE, 'На устройствах Apple iPhone и iPad нет функции скачивания контента для офлайн-просмотра. На Android эта функция есть. Когда планируется добавить для iOS?', '2024-01-14 21:15:00+03', '2024-01-14 21:15:00+03'),
(4, 3, FALSE, 'При попытке оплатить подписку картой Visa получаю ошибку "Платеж не прошел". Карта активна, средства есть. Пробовал разные карты - результат тот же.', '2024-01-13 20:45:00+03', '2024-01-13 20:45:00+03'),
(5, 4, FALSE, 'При просмотре любого сериала субтитры работают только первые 10-15 минут, потом пропадают. Перезагрузка приложения временно помогает.', '2024-01-12 18:20:00+03', '2024-01-12 18:20:00+03'),
(6, 4, FALSE, 'Проблема наблюдается только в браузере Chrome на Windows. В других браузерах субтитры работают нормально.', '2024-01-13 09:15:00+03', '2024-01-13 09:15:00+03'),
(7, 5, FALSE, 'Хочу создать отдельный профиль для ребенка 6 лет, но нет возможности установить PIN-код для ограничения доступа к взрослому контенту.', '2024-01-11 22:30:00+03', '2024-01-11 22:30:00+03'),
(8, 6, FALSE, 'Даже при хорошей скорости интернета (100 Мбит/с) качество видео автоматически переключается на 480p. Принудительная установка качества не помогает.', '2024-01-10 17:40:00+03', '2024-01-10 17:40:00+03'),
(9, 7, FALSE, 'После просмотра сериала он остается в рекомендациях. Хотелось бы иметь возможность скрыть просмотренный контент из главной ленты.', '2024-01-09 19:15:00+03', '2024-01-09 19:15:00+03'),
(10, 8, FALSE, 'При попытке войти в аккаунт с нового устройства запрашивает код подтверждения, но SMS на телефон не приходит. Проверил спам - пусто.', '2024-01-08 16:50:00+03', '2024-01-08 16:50:00+03'),
(11, 9, FALSE, 'Приложение на Samsung Galaxy S21 вылетает когда пытаюсь перемотать серию более чем на 10 минут вперед. В логе ошибка: OutOfMemory Exception.', '2024-01-07 21:25:00+03', '2024-01-07 21:25:00+03'),
(12, 10, FALSE, 'Много турецких сериалов, но нет турецких субтитров. Для не слышащих пользователей это критично. Можно добавить поддержку?', '2024-01-06 20:10:00+03', '2024-01-06 20:10:00+03'),
(13, 11, FALSE, 'При воспроизведении фильмов с 5.1 звуком на домашнем кинотеатре Sony HT-ST5000 звук периодически пропадает на 2-3 секунды.', '2024-01-05 18:30:00+03', '2024-01-05 18:30:00+03'),
(14, 12, FALSE, 'Часто забываю на чем остановился в просмотре. Хотелось бы видеть большую кнопку "Продолжить просмотр" вверху главного экрана.', '2024-01-04 19:20:00+03', '2024-01-04 19:20:00+03'),
(15, 13, FALSE, 'Нажимаю "Забыли пароль?", ввожу email, но письмо для восстановления не приходит. Проверял папку спам - тоже нет.', '2024-01-03 17:15:00+03', '2024-01-03 17:15:00+03'),

(16, 6, TRUE, 'Проблема была связана с настройками автоматического выбора качества. Мы обновили алгоритм определения скорости интернета. Теперь качество должно оставаться стабильным.', '2024-01-11 10:30:00+03', '2024-01-11 10:30:00+03'),
(17, 6, TRUE, 'Проверьте, пожалуйста, работает ли сейчас качество видео на максимальных настройках. Если проблема останется - сообщите нам.', '2024-01-11 15:20:00+03', '2024-01-11 15:20:00+03'),
(18, 7, TRUE, 'Функция скрытия просмотренного контента добавлена в последнем обновлении приложения. Найдите ее в настройках профиля во вкладке "Конфиденциальность".', '2024-01-10 12:45:00+03', '2024-01-10 12:45:00+03'),
(19, 8, TRUE, 'Были временные проблемы с отправкой SMS в вашем регионе. Сейчас сервис восстановлен. Попробуйте запросить код подтверждения еще раз.', '2024-01-09 14:15:00+03', '2024-01-09 14:15:00+03'),
(20, 4, TRUE, 'Мы нашли баг в обработке субтитров для браузера Chrome. Работаем над исправлением. Временно рекомендуем использовать браузер Firefox.', '2024-01-13 12:00:00+03', '2024-01-13 12:00:00+03'),
(21, 4, TRUE, 'Выпустили исправление для проблемы с субтитрами. Обновите страницу и проверьте, пожалуйста, работу субтитров.', '2024-01-14 16:10:00+03', '2024-01-14 16:10:00+03'),
(22, 5, TRUE, 'Функция PIN-кода для детских профилей находится в разработке. Планируем выпустить в следующем обновлении через 1-2 недели.', '2024-01-12 16:10:00+03', '2024-01-12 16:10:00+03'),
(23, 5, TRUE, 'Добавили настройки родительского контроля с возможностью установки PIN-кода. Обновите приложение до версии 4.2.1.', '2024-01-15 14:25:00+03', '2024-01-15 14:25:00+03'),
(24, 11, TRUE, 'Исправили проблему с воспроизведением 5.1 звука. Обновили аудиокодеки для лучшей совместимости с оборудованием Sony.', '2024-01-07 17:40:00+03', '2024-01-07 17:40:00+03'),
(25, 14, TRUE, 'Проблема со скачиванием серий была связана с кэшированием данных. Исправили алгоритм загрузки - теперь контент скачивается корректно.', '2024-01-04 15:30:00+03', '2024-01-04 15:30:00+03'),
(26, 13, TRUE, 'Проверили отправку писем для вашего email - все работает корректно. Возможно, письма попадают в спам. Добавьте наш адрес support@netflix.com в белый список.', '2024-01-04 13:00:00+03', '2024-01-04 13:00:00+03'),
(27, 1, TRUE, 'Проблема известна для некоторых моделей Samsung TV после обновления прошивки. Работаем над совместимостью с новой версией Tizen OS.', '2024-01-15 20:00:00+03', '2024-01-15 20:00:00+03'),
(28, 2, TRUE, 'Функция скачивания для iOS находится в стадии тестирования. Ожидайте обновление приложения в App Store в течение месяца.', '2024-01-14 22:30:00+03', '2024-01-14 22:30:00+03'),
(29, 3, TRUE, 'Возникли временные проблемы с обработкой платежей через Visa. Рекомендуем использовать Mastercard или PayPal. Платежная система Visa уже восстановлена.', '2024-01-13 21:15:00+03', '2024-01-13 21:15:00+03'),
(30, 10, TRUE, 'Добавили турецкие субтитры для 50 самых популярных сериалов. В течение недели добавим для всего каталога.', '2024-01-07 11:20:00+03', '2024-01-07 11:20:00+03');

-- Обновление последовательностей (если используете SERIAL или автоматические инкременты)
-- SELECT setval('user_appeal_user_appeal_id_seq', (SELECT MAX(user_appeal_id) FROM USER_APPEAL));
-- SELECT setval('user_appeal_message_user_appeal_message_id_seq', (SELECT MAX(user_appeal_message_id) FROM USER_APPEAL_MESSAGE));
-- SELECT setval('user_appeal_response_user_appeal_response_id_seq', (SELECT MAX(user_appeal_response_id) FROM USER_APPEAL_RESPONSE));